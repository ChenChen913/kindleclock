name: Claude Code Action
on:
  issue_comment:
    types: [created]
  pull_request:
    types: [opened, synchronize]
  # 你可以根据需要添加其他触发条件

jobs:
  claude:
    runs-on: ubuntu-latest
    steps:
      - name: Run Claude Code
        uses: anthropics/claude-code-action@v1
        with:
          # 这里引用刚才设置的 Secret
          anthropic_api_key: ${{ secrets.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 }}
          # 或者如果你用的是 OAuth Token:
          # claude_code_oauth_token: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}
